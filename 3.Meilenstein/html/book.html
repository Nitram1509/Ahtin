<!DOCTYPE html>
	<html>
		<head>
		 <meta charset="UTF-8">
			<title>3.Meilenstein</title>
			<link rel="stylesheet" type="text/css" href="..\css\layout.css">
			<link rel="stylesheet" type="text/css" href="..\css\home.css">
			<link rel="stylesheet" type="text/css" href="..\css\book.css">		
		</head>
		<body>
			<div style="width: 1100px;">
				<p id=ueberschrift class="schriftFarbe" >Meine BÃ¼cher</p>
				
				<div style ="right:100px;"id="button">
					<input type="button" id="horror"  value="Horror" onclick="horrorTable()">
					<input type="button" id="roman"  value="Roman" onclick="romanTable()">
				</div>
			
				<div id="grundlayout"> <p id="tabelle">FEHLER</p> </div>

			</div>			
			<script>
				//Ladet die Horrotabelle als erstes
			    horrorTable();
				
				//Fokusiert die tabelle an Horror zu beginn an
				document.getElementById("horror").focus();
				
				function romanTable(){

					var xmlhttp = new XMLHttpRequest();
					var url = "../Json/roman_books.json";
					xmlhttp.onreadystatechange = function() {
						if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
							//console.log(xmlhttp.responseText)
							var myArr = JSON.parse(xmlhttp.responseText);		
							createRomanTable(myArr);
							
							}
					}
					xmlhttp.open("GET", url, true);
					xmlhttp.send();
					//console.log(xmlhttp.responseText)
				}
				function horrorTable() {
					var xmlhttp = new XMLHttpRequest();
					var url = "../Json/horror_books.json";
					xmlhttp.onreadystatechange = function() {
						if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
							//console.log(xmlhttp.responseText)
							var myArr = JSON.parse(xmlhttp.responseText);		
							createHorrorTable(myArr);
							
						}
					}
					xmlhttp.open("GET", url, true);
					xmlhttp.send();
					//console.log(xmlhttp.responseText)
					
				}
				function createHorrorTable(myArr) {
					var out = templateTable();
					for(inhalt = 0; inhalt < myArr.horrordata.length; inhalt++){
						out += "<tr class='schriftFarbe'><td>" +
						myArr.horrordata[inhalt].autor +
						"</td><td>" +
						myArr.horrordata[inhalt].titel +
						"</td><td>" +
						myArr.horrordata[inhalt].kapitel +
						"</td><td>" +
						myArr.horrordata[inhalt].buchart +
						"</td><td>" +
						myArr.horrordata[inhalt].ISBN +
						"</td><td>" +
						myArr.horrordata[inhalt].erscheinungsjahr +
						"</td><td>" +
						myArr.horrordata[inhalt].auflage +
						"</td></tr>";
					}
					out += "</table>";
					document.getElementById("tabelle").innerHTML = out;
				}
				function createRomanTable(myArr) {
					var out = templateTable();
					for(inhalt = 0; inhalt < myArr.romandata.length; inhalt++){
						out += "<tr class='schriftFarbe'><td>" +
						myArr.romandata[inhalt].autor +
						"</td><td>" +
						myArr.romandata[inhalt].titel +
						"</td><td>" +
						myArr.romandata[inhalt].kapitel +
						"</td><td>" +
						myArr.romandata[inhalt].buchart +
						"</td><td>" +
						myArr.romandata[inhalt].ISBN +
						"</td><td>" +
						myArr.romandata[inhalt].erscheinungsjahr +
						"</td><td>" +
						myArr.romandata[inhalt].auflage +
						"</td></tr>";
					}
					out += "</table>";
					document.getElementById("tabelle").innerHTML = out;
				}					
				
				function templateTable(){
					var out = "<table class='templateTable'>"+
					"<tr><th>" +
					"Autor" +
					"</th><th>" +
					"Titel" +
					"</th><th>" +
					"Kapitel" +
					"</th><th>" +
					"Buchart" +
					"</th><th>" +
					"ISBN" +
					"</th><th>" +
					"Erscheinungsjahr" +
					"</th><th>" +
					"Auflage" +
					"</th></tr>";
					return out;
				}
				
					
					
			</script>
		</body>
		
	</html>
